import{s as K,D as Q,L as W,e as q,i as d,d as g,Z as X,u as b,a as L,c as v,f as Y,_ as y,g as x,h as ee,$ as te,j as re,p as R,P as T,l as M,m as N}from"../chunks/scheduler.074396d7.js";import{h as ne,u as se}from"../chunks/await_block.cf3b133a.js";import{S as le,i as $e,b as m,d as i,m as p,a as f,t as c,e as _,f as j,g as ae,c as ue}from"../chunks/index.1e7081af.js";import{L as oe}from"../chunks/LanguageSelector.2ede2e36.js";import{p as fe}from"../chunks/stores.0fb780bb.js";import{g as E}from"../chunks/api.744a58f4.js";import{a as O}from"../chunks/index.a71612e2.js";import{R as ce}from"../chunks/CodeEditor.857a2d91.js";import{g as U}from"../chunks/navigation.c3d367e0.js";import{U as me}from"../chunks/UserOnly.bf4d82a3.js";import{b as V}from"../chunks/paths.8c3e4147.js";import{f as ie}from"../chunks/filesize.esm.8a927103.js";import{C as D}from"../chunks/Column.d9c6536d.js";import{R as Z}from"../chunks/Row.3653b80c.js";import{S as pe,a as _e,b as ge,c as F,d as B}from"../chunks/StructuredListRow.1094e6b1.js";import{B as de}from"../chunks/ButtonSet.c5dfd375.js";import{B as G}from"../chunks/Button.eee4890b.js";function be($){return{c:b,l:b,m:b,p:b,i:b,o:b,d:b}}function we($){let e,n;return e=new D({props:{$$slots:{default:[Oe]},$$scope:{ctx:$}}}),{c(){m(e.$$.fragment)},l(t){i(e.$$.fragment,t)},m(t,s){p(e,t,s),n=!0},p(t,s){const r={};s&1539&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(f(e.$$.fragment,t),n=!0)},o(t){c(e.$$.fragment,t),n=!1},d(t){_(e,t)}}}function ke($){let e;return{c(){e=M("Problem Name")},l(n){e=N(n,"Problem Name")},m(n,t){d(n,e,t)},d(n){n&&g(e)}}}function he($){let e;return{c(){e=M("Time Limit")},l(n){e=N(n,"Time Limit")},m(n,t){d(n,e,t)},d(n){n&&g(e)}}}function Le($){let e;return{c(){e=M("Memory Limit")},l(n){e=N(n,"Memory Limit")},m(n,t){d(n,e,t)},d(n){n&&g(e)}}}function ve($){let e,n,t,s,r,a;return e=new B({props:{head:!0,$$slots:{default:[ke]},$$scope:{ctx:$}}}),t=new B({props:{head:!0,$$slots:{default:[he]},$$scope:{ctx:$}}}),r=new B({props:{head:!0,$$slots:{default:[Le]},$$scope:{ctx:$}}}),{c(){m(e.$$.fragment),n=L(),m(t.$$.fragment),s=L(),m(r.$$.fragment)},l(l){i(e.$$.fragment,l),n=v(l),i(t.$$.fragment,l),s=v(l),i(r.$$.fragment,l)},m(l,u){p(e,l,u),d(l,n,u),p(t,l,u),d(l,s,u),p(r,l,u),a=!0},p(l,u){const w={};u&1024&&(w.$$scope={dirty:u,ctx:l}),e.$set(w);const S={};u&1024&&(S.$$scope={dirty:u,ctx:l}),t.$set(S);const C={};u&1024&&(C.$$scope={dirty:u,ctx:l}),r.$set(C)},i(l){a||(f(e.$$.fragment,l),f(t.$$.fragment,l),f(r.$$.fragment,l),a=!0)},o(l){c(e.$$.fragment,l),c(t.$$.fragment,l),c(r.$$.fragment,l),a=!1},d(l){l&&(g(n),g(s)),_(e,l),_(t,l),_(r,l)}}}function Se($){let e,n;return e=new F({props:{head:!0,$$slots:{default:[ve]},$$scope:{ctx:$}}}),{c(){m(e.$$.fragment)},l(t){i(e.$$.fragment,t)},m(t,s){p(e,t,s),n=!0},p(t,s){const r={};s&1024&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(f(e.$$.fragment,t),n=!0)},o(t){c(e.$$.fragment,t),n=!1},d(t){_(e,t)}}}function Ce($){let e=$[3].name+"",n;return{c(){n=M(e)},l(t){n=N(t,e)},m(t,s){d(t,n,s)},p:b,d(t){t&&g(n)}}}function Me($){let e=$[3].timeLimit+"",n,t;return{c(){n=M(e),t=M("ms")},l(s){n=N(s,e),t=N(s,"ms")},m(s,r){d(s,n,r),d(s,t,r)},p:b,d(s){s&&(g(n),g(t))}}}function Ne($){let e=ie($[3].memoryLimit)+"",n;return{c(){n=M(e)},l(t){n=N(t,e)},m(t,s){d(t,n,s)},p:b,d(t){t&&g(n)}}}function Be($){let e,n,t,s,r,a;return e=new B({props:{$$slots:{default:[Ce]},$$scope:{ctx:$}}}),t=new B({props:{$$slots:{default:[Me]},$$scope:{ctx:$}}}),r=new B({props:{$$slots:{default:[Ne]},$$scope:{ctx:$}}}),{c(){m(e.$$.fragment),n=L(),m(t.$$.fragment),s=L(),m(r.$$.fragment)},l(l){i(e.$$.fragment,l),n=v(l),i(t.$$.fragment,l),s=v(l),i(r.$$.fragment,l)},m(l,u){p(e,l,u),d(l,n,u),p(t,l,u),d(l,s,u),p(r,l,u),a=!0},p(l,u){const w={};u&1024&&(w.$$scope={dirty:u,ctx:l}),e.$set(w);const S={};u&1024&&(S.$$scope={dirty:u,ctx:l}),t.$set(S);const C={};u&1024&&(C.$$scope={dirty:u,ctx:l}),r.$set(C)},i(l){a||(f(e.$$.fragment,l),f(t.$$.fragment,l),f(r.$$.fragment,l),a=!0)},o(l){c(e.$$.fragment,l),c(t.$$.fragment,l),c(r.$$.fragment,l),a=!1},d(l){l&&(g(n),g(s)),_(e,l),_(t,l),_(r,l)}}}function De($){let e,n;return e=new F({props:{$$slots:{default:[Be]},$$scope:{ctx:$}}}),{c(){m(e.$$.fragment)},l(t){i(e.$$.fragment,t)},m(t,s){p(e,t,s),n=!0},p(t,s){const r={};s&1024&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(f(e.$$.fragment,t),n=!0)},o(t){c(e.$$.fragment,t),n=!1},d(t){_(e,t)}}}function Ie($){let e,n,t,s;return e=new _e({props:{$$slots:{default:[Se]},$$scope:{ctx:$}}}),t=new ge({props:{$$slots:{default:[De]},$$scope:{ctx:$}}}),{c(){m(e.$$.fragment),n=L(),m(t.$$.fragment)},l(r){i(e.$$.fragment,r),n=v(r),i(t.$$.fragment,r)},m(r,a){p(e,r,a),d(r,n,a),p(t,r,a),s=!0},p(r,a){const l={};a&1024&&(l.$$scope={dirty:a,ctx:r}),e.$set(l);const u={};a&1024&&(u.$$scope={dirty:a,ctx:r}),t.$set(u)},i(r){s||(f(e.$$.fragment,r),f(t.$$.fragment,r),s=!0)},o(r){c(e.$$.fragment,r),c(t.$$.fragment,r),s=!1},d(r){r&&g(n),_(e,r),_(t,r)}}}function Pe($){let e,n,t,s,r=$[3].description+"",a;return e=new pe({props:{$$slots:{default:[Ie]},$$scope:{ctx:$}}}),{c(){m(e.$$.fragment),n=L(),t=Y("div"),s=new y(!1),this.h()},l(l){i(e.$$.fragment,l),n=v(l),t=x(l,"DIV",{class:!0});var u=ee(t);s=te(u,!1),u.forEach(g),this.h()},h(){s.a=null,re(t,"class","markdown")},m(l,u){p(e,l,u),d(l,n,u),d(l,t,u),s.m(r,t),a=!0},p(l,u){const w={};u&1024&&(w.$$scope={dirty:u,ctx:l}),e.$set(w)},i(l){a||(f(e.$$.fragment,l),a=!0)},o(l){c(e.$$.fragment,l),a=!1},d(l){l&&(g(n),g(t)),_(e,l)}}}function z($){let e,n;function t(){return $[7]($[3])}return e=new G({props:{kind:"tertiary",$$slots:{default:[Re]},$$scope:{ctx:$}}}),e.$on("click",t),{c(){m(e.$$.fragment)},l(s){i(e.$$.fragment,s)},m(s,r){p(e,s,r),n=!0},p(s,r){$=s;const a={};r&1024&&(a.$$scope={dirty:r,ctx:$}),e.$set(a)},i(s){n||(f(e.$$.fragment,s),n=!0)},o(s){c(e.$$.fragment,s),n=!1},d(s){_(e,s)}}}function Re($){let e;return{c(){e=M("Manage")},l(n){e=N(n,"Manage")},m(n,t){d(n,e,t)},d(n){n&&g(e)}}}function Te($){let e;return{c(){e=M("Submit")},l(n){e=N(n,"Submit")},m(n,t){d(n,e,t)},d(n){n&&g(e)}}}function je($){let e,n,t,s=$[9]!==null&&$[9].role==="ADMIN"&&z($);return n=new G({props:{$$slots:{default:[Te]},$$scope:{ctx:$}}}),n.$on("click",$[2]),{c(){s&&s.c(),e=L(),m(n.$$.fragment)},l(r){s&&s.l(r),e=v(r),i(n.$$.fragment,r)},m(r,a){s&&s.m(r,a),d(r,e,a),p(n,r,a),t=!0},p(r,a){r[9]!==null&&r[9].role==="ADMIN"?s?(s.p(r,a),a&512&&f(s,1)):(s=z(r),s.c(),f(s,1),s.m(e.parentNode,e)):s&&(ae(),c(s,1,1,()=>{s=null}),ue());const l={};a&1024&&(l.$$scope={dirty:a,ctx:r}),n.$set(l)},i(r){t||(f(s),f(n.$$.fragment,r),t=!0)},o(r){c(s),c(n.$$.fragment,r),t=!1},d(r){r&&g(e),s&&s.d(r),_(n,r)}}}function Ae($){let e,n;return e=new de({props:{class:"flex justify-end mt-4",$$slots:{default:[je]},$$scope:{ctx:$}}}),{c(){m(e.$$.fragment)},l(t){i(e.$$.fragment,t)},m(t,s){p(e,t,s),n=!0},p(t,s){const r={};s&1536&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(f(e.$$.fragment,t),n=!0)},o(t){c(e.$$.fragment,t),n=!1},d(t){_(e,t)}}}function He($){let e,n;return e=new D({props:{$$slots:{default:[Ae]},$$scope:{ctx:$}}}),{c(){m(e.$$.fragment)},l(t){i(e.$$.fragment,t)},m(t,s){p(e,t,s),n=!0},p(t,s){const r={};s&1536&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(f(e.$$.fragment,t),n=!0)},o(t){c(e.$$.fragment,t),n=!1},d(t){_(e,t)}}}function qe($){let e,n,t,s,r,a,l,u,w;function S(o){$[4](o)}let C={labelText:"Select language",languages:Object.keys($[3].templates)};$[0]!==void 0&&(C.language=$[0]),e=new oe({props:C}),R.push(()=>j(e,"language",S));function k(o){$[5](o)}function J(o){$[6](o)}let I={};return $[1][$[0]]!==void 0&&(I.code=$[1][$[0]]),$[0]!==void 0&&(I.language=$[0]),s=new ce({props:I}),R.push(()=>j(s,"code",k)),R.push(()=>j(s,"language",J)),u=new Z({props:{$$slots:{default:[He]},$$scope:{ctx:$}}}),{c(){m(e.$$.fragment),t=L(),m(s.$$.fragment),l=L(),m(u.$$.fragment)},l(o){i(e.$$.fragment,o),t=v(o),i(s.$$.fragment,o),l=v(o),i(u.$$.fragment,o)},m(o,h){p(e,o,h),d(o,t,h),p(s,o,h),d(o,l,h),p(u,o,h),w=!0},p(o,h){const A={};!n&&h&1&&(n=!0,A.language=o[0],T(()=>n=!1)),e.$set(A);const P={};!r&&h&3&&(r=!0,P.code=o[1][o[0]],T(()=>r=!1)),!a&&h&1&&(a=!0,P.language=o[0],T(()=>a=!1)),s.$set(P);const H={};h&1536&&(H.$$scope={dirty:h,ctx:o}),u.$set(H)},i(o){w||(f(e.$$.fragment,o),f(s.$$.fragment,o),f(u.$$.fragment,o),w=!0)},o(o){c(e.$$.fragment,o),c(s.$$.fragment,o),c(u.$$.fragment,o),w=!1},d(o){o&&(g(t),g(l)),_(e,o),_(s,o),_(u,o)}}}function Ee($){let e,n,t,s;return e=new D({props:{$$slots:{default:[Pe]},$$scope:{ctx:$}}}),t=new D({props:{$$slots:{default:[qe]},$$scope:{ctx:$}}}),{c(){m(e.$$.fragment),n=L(),m(t.$$.fragment)},l(r){i(e.$$.fragment,r),n=v(r),i(t.$$.fragment,r)},m(r,a){p(e,r,a),d(r,n,a),p(t,r,a),s=!0},p(r,a){const l={};a&1024&&(l.$$scope={dirty:a,ctx:r}),e.$set(l);const u={};a&1539&&(u.$$scope={dirty:a,ctx:r}),t.$set(u)},i(r){s||(f(e.$$.fragment,r),f(t.$$.fragment,r),s=!0)},o(r){c(e.$$.fragment,r),c(t.$$.fragment,r),s=!1},d(r){r&&g(n),_(e,r),_(t,r)}}}function Oe($){let e,n;return e=new Z({props:{$$slots:{default:[Ee]},$$scope:{ctx:$}}}),{c(){m(e.$$.fragment)},l(t){i(e.$$.fragment,t)},m(t,s){p(e,t,s),n=!0},p(t,s){const r={};s&1539&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(f(e.$$.fragment,t),n=!0)},o(t){c(e.$$.fragment,t),n=!1},d(t){_(e,t)}}}function Ue($){return{c:b,l:b,m:b,p:b,i:b,o:b,d:b}}function Ve($){let e,n,t={ctx:$,current:null,token:null,hasCatch:!1,pending:Ue,then:we,catch:be,value:3,blocks:[,,,]};return ne($[3],t),{c(){e=q(),t.block.c()},l(s){e=q(),t.block.l(s)},m(s,r){d(s,e,r),t.block.m(s,t.anchor=r),t.mount=()=>e.parentNode,t.anchor=e,n=!0},p(s,r){$=s,se(t,$,r)},i(s){n||(f(t.block),n=!0)},o(s){for(let r=0;r<3;r+=1){const a=t.blocks[r];c(a)}n=!1},d(s){s&&g(e),t.block.d(s),t.token=null,t=null}}}function ze($){let e,n,t,s;return e=new me({props:{$$slots:{default:[Ve,({user:r})=>({9:r}),({user:r})=>r?512:0]},$$scope:{ctx:$}}}),{c(){m(e.$$.fragment)},l(r){i(e.$$.fragment,r)},m(r,a){p(e,r,a),n=!0,t||(s=Q(window,"beforeunload",X(Ze)),t=!0)},p(r,[a]){const l={};a&1539&&(l.$$scope={dirty:a,ctx:r}),e.$set(l)},i(r){n||(f(e.$$.fragment,r),n=!0)},o(r){c(e.$$.fragment,r),n=!1},d(r){_(e,r),t=!1,s()}}}const Ze=$=>($.preventDefault(),$.returnValue=!0,"Are you sure to leave this page?");function Fe($,e,n){const t=W(fe).params.id,s=O.functional.problem.get(E(),t).then(k=>k.problem);let r="C",a={};s.then(k=>{n(1,a=k.templates)});async function l(){await O.functional.submit.create(E(),{language:r,code:a[r]??"",problemId:t}),U(`${V}/submits`)}function u(k){r=k,n(0,r)}function w(k){$.$$.not_equal(a[r],k)&&(a[r]=k,n(1,a))}function S(k){r=k,n(0,r)}return[r,a,l,s,u,w,S,k=>{U(`${V}/manage/problems/${k.id}`)}]}class ut extends le{constructor(e){super(),$e(this,e,Fe,ze,K,{})}}export{ut as component};
