import{s as L,p as T,a as C,f as S,c as I,g as j,h as q,d as p,j as A,i as h,P as E,l as H,m as M}from"../chunks/scheduler.ab7c2898.js";import{S as V,i as y,b as m,d as $,m as c,a as _,t as g,e as d,f as F}from"../chunks/index.956fb253.js";import{g as z}from"../chunks/api.329286e0.js";import{r as G}from"../chunks/app.f6920475.js";import{F as J,r as K,P as N}from"../chunks/error.d7bc1be4.js";import{a as O}from"../chunks/store.465ac908.js";import{a as Q,b as R}from"../chunks/index.82b01968.js";import{t as U}from"../chunks/Toaster.svelte_svelte_type_style_lang.47810070.js";import{C as W}from"../chunks/Column.8bd8b6f7.js";import{T as X}from"../chunks/TextInput.18e2d896.js";import{B as Y}from"../chunks/Button.e47fd731.js";function Z(r){let t;return{c(){t=H("Login")},l(a){t=M(a,"Login")},m(a,e){h(a,t,e)},d(a){a&&p(t)}}}function tt(r){let t,a,e,s,l,u,f,o,v;function B(n){r[3](n)}let b={labelText:"ID"};r[0]!==void 0&&(b.value=r[0]),t=new X({props:b}),T.push(()=>F(t,"value",B));function D(n){r[4](n)}let w={labelText:"Password"};return r[1]!==void 0&&(w.value=r[1]),s=new N({props:w}),T.push(()=>F(s,"value",D)),o=new Y({props:{class:"flex",$$slots:{default:[Z]},$$scope:{ctx:r}}}),o.$on("click",r[2]),{c(){m(t.$$.fragment),e=C(),m(s.$$.fragment),u=C(),f=S("div"),m(o.$$.fragment),this.h()},l(n){$(t.$$.fragment,n),e=I(n),$(s.$$.fragment,n),u=I(n),f=j(n,"DIV",{class:!0});var i=q(f);$(o.$$.fragment,i),i.forEach(p),this.h()},h(){A(f,"class","flex flex-col items-end")},m(n,i){c(t,n,i),h(n,e,i),c(s,n,i),h(n,u,i),h(n,f,i),c(o,f,null),v=!0},p(n,i){const x={};!a&&i&1&&(a=!0,x.value=n[0],E(()=>a=!1)),t.$set(x);const k={};!l&&i&2&&(l=!0,k.value=n[1],E(()=>l=!1)),s.$set(k);const P={};i&32&&(P.$$scope={dirty:i,ctx:n}),o.$set(P)},i(n){v||(_(t.$$.fragment,n),_(s.$$.fragment,n),_(o.$$.fragment,n),v=!0)},o(n){g(t.$$.fragment,n),g(s.$$.fragment,n),g(o.$$.fragment,n),v=!1},d(n){n&&(p(e),p(u),p(f)),d(t,n),d(s,n),d(o)}}}function et(r){let t,a;return t=new J({props:{class:"flex flex-col gap-y-4",$$slots:{default:[tt]},$$scope:{ctx:r}}}),{c(){m(t.$$.fragment)},l(e){$(t.$$.fragment,e)},m(e,s){c(t,e,s),a=!0},p(e,s){const l={};s&35&&(l.$$scope={dirty:s,ctx:e}),t.$set(l)},i(e){a||(_(t.$$.fragment,e),a=!0)},o(e){g(t.$$.fragment,e),a=!1},d(e){d(t,e)}}}function nt(r){let t,a;return t=new W({props:{$$slots:{default:[et]},$$scope:{ctx:r}}}),{c(){m(t.$$.fragment)},l(e){$(t.$$.fragment,e)},m(e,s){c(t,e,s),a=!0},p(e,[s]){const l={};s&35&&(l.$$scope={dirty:s,ctx:e}),t.$set(l)},i(e){a||(_(t.$$.fragment,e),a=!0)},o(e){g(t.$$.fragment,e),a=!1},d(e){d(t,e)}}}function st(r,t,a){let e="",s="";async function l(){try{const o=await Q.functional.auth.login(z(!0),{id:e,password:s});O.set(o.token),G()}catch(o){o instanceof R.HttpError&&o.status===400&&U.error(`Failed to login: ${K(o)}`)}}function u(o){e=o,a(0,e)}function f(o){s=o,a(1,s)}return[e,s,l,u,f]}class _t extends V{constructor(t){super(),y(this,t,st,nt,L,{})}}export{_t as component};
