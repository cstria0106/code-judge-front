import{s as Ne,a as N,c as O,i as h,d as m,e as $e,V as Oe,l as T,m as L,f as ee,g as te,h as ie,j as K,w as Q,n as H,T as Me}from"./scheduler.ab7c2898.js";import{S as Te,i as Le,b,d as y,m as E,a as _,t as g,e as S,g as ae,c as fe}from"./index.956fb253.js";import{e as ce}from"./each.d935a32b.js";import{b as F}from"./paths.0ab3e92b.js";import{f as me,a as pe}from"./language.960074d0.js";import{h as he}from"./moment.fbc5633a.js";import{S as Ie,a as Re,b as Ae,c as Ce,d as M}from"./StructuredListRow.93e9eefa.js";const j=Symbol.for("@ts-pattern/matcher"),Pe=Symbol.for("@ts-pattern/isVariadic"),se="@ts-pattern/anonymous-select-key",le=r=>!!(r&&typeof r=="object"),x=r=>r&&!!r[j],P=(r,e,s)=>{if(x(r)){const t=r[j](),{matched:n,selections:l}=t.match(e);return n&&l&&Object.keys(l).forEach(u=>s(u,l[u])),n}if(le(r)){if(!le(e))return!1;if(Array.isArray(r)){if(!Array.isArray(e))return!1;let t=[],n=[],l=[];for(const u of r.keys()){const f=r[u];x(f)&&f[Pe]?l.push(f):l.length?n.push(f):t.push(f)}if(l.length){if(l.length>1)throw new Error("Pattern error: Using `...P.array(...)` several times in a single pattern is not allowed.");if(e.length<t.length+n.length)return!1;const u=e.slice(0,t.length),f=n.length===0?[]:e.slice(-n.length),o=e.slice(t.length,n.length===0?1/0:-n.length);return t.every(($,w)=>P($,u[w],s))&&n.every(($,w)=>P($,f[w],s))&&(l.length===0||P(l[0],o,s))}return r.length===e.length&&r.every((u,f)=>P(u,e[f],s))}return Object.keys(r).every(t=>{const n=r[t];return(t in e||x(l=n)&&l[j]().matcherType==="optional")&&P(n,e[t],s);var l})}return Object.is(e,r)},D=r=>{var e,s,t;return le(r)?x(r)?(e=(s=(t=r[j]()).getSelectionKeys)==null?void 0:s.call(t))!=null?e:[]:Array.isArray(r)?Z(r,D):Z(Object.values(r),D):[]},Z=(r,e)=>r.reduce((s,t)=>s.concat(e(t)),[]);function I(r){return Object.assign(r,{optional:()=>ke(r),and:e=>v(r,e),or:e=>Ue(r,e),select:e=>e===void 0?_e(r):_e(e,r)})}function ke(r){return I({[j]:()=>({match:e=>{let s={};const t=(n,l)=>{s[n]=l};return e===void 0?(D(r).forEach(n=>t(n,void 0)),{matched:!0,selections:s}):{matched:P(r,e,t),selections:s}},getSelectionKeys:()=>D(r),matcherType:"optional"})})}function v(...r){return I({[j]:()=>({match:e=>{let s={};const t=(n,l)=>{s[n]=l};return{matched:r.every(n=>P(n,e,t)),selections:s}},getSelectionKeys:()=>Z(r,D),matcherType:"and"})})}function Ue(...r){return I({[j]:()=>({match:e=>{let s={};const t=(n,l)=>{s[n]=l};return Z(r,D).forEach(n=>t(n,void 0)),{matched:r.some(n=>P(n,e,t)),selections:s}},getSelectionKeys:()=>Z(r,D),matcherType:"or"})})}function p(r){return{[j]:()=>({match:e=>({matched:!!r(e)})})}}function _e(...r){const e=typeof r[0]=="string"?r[0]:void 0,s=r.length===2?r[1]:typeof r[0]=="string"?void 0:r[0];return I({[j]:()=>({match:t=>{let n={[e??se]:t};return{matched:s===void 0||P(s,t,(l,u)=>{n[l]=u}),selections:n}},getSelectionKeys:()=>[e??se].concat(s===void 0?[]:D(s))})})}function R(r){return typeof r=="number"}function B(r){return typeof r=="string"}function W(r){return typeof r=="bigint"}I(p(function(r){return!0}));const G=r=>Object.assign(I(r),{startsWith:e=>{return G(v(r,(s=e,p(t=>B(t)&&t.startsWith(s)))));var s},endsWith:e=>{return G(v(r,(s=e,p(t=>B(t)&&t.endsWith(s)))));var s},minLength:e=>G(v(r,(s=>p(t=>B(t)&&t.length>=s))(e))),maxLength:e=>G(v(r,(s=>p(t=>B(t)&&t.length<=s))(e))),includes:e=>{return G(v(r,(s=e,p(t=>B(t)&&t.includes(s)))));var s},regex:e=>{return G(v(r,(s=e,p(t=>B(t)&&!!t.match(s)))));var s}});G(p(B));const A=r=>Object.assign(I(r),{between:(e,s)=>A(v(r,((t,n)=>p(l=>R(l)&&t<=l&&n>=l))(e,s))),lt:e=>A(v(r,(s=>p(t=>R(t)&&t<s))(e))),gt:e=>A(v(r,(s=>p(t=>R(t)&&t>s))(e))),lte:e=>A(v(r,(s=>p(t=>R(t)&&t<=s))(e))),gte:e=>A(v(r,(s=>p(t=>R(t)&&t>=s))(e))),int:()=>A(v(r,p(e=>R(e)&&Number.isInteger(e)))),finite:()=>A(v(r,p(e=>R(e)&&Number.isFinite(e)))),positive:()=>A(v(r,p(e=>R(e)&&e>0))),negative:()=>A(v(r,p(e=>R(e)&&e<0)))});A(p(R));const Y=r=>Object.assign(I(r),{between:(e,s)=>Y(v(r,((t,n)=>p(l=>W(l)&&t<=l&&n>=l))(e,s))),lt:e=>Y(v(r,(s=>p(t=>W(t)&&t<s))(e))),gt:e=>Y(v(r,(s=>p(t=>W(t)&&t>s))(e))),lte:e=>Y(v(r,(s=>p(t=>W(t)&&t<=s))(e))),gte:e=>Y(v(r,(s=>p(t=>W(t)&&t>=s))(e))),positive:()=>Y(v(r,p(e=>W(e)&&e>0))),negative:()=>Y(v(r,p(e=>W(e)&&e<0)))});Y(p(W));I(p(function(r){return typeof r=="boolean"}));I(p(function(r){return typeof r=="symbol"}));I(p(function(r){return r==null}));const ue={matched:!1,value:void 0};function re(r){return new ne(r,ue)}class ne{constructor(e,s){this.input=void 0,this.state=void 0,this.input=e,this.state=s}with(...e){if(this.state.matched)return this;const s=e[e.length-1],t=[e[0]];let n;e.length===3&&typeof e[1]=="function"?(t.push(e[0]),n=e[1]):e.length>2&&t.push(...e.slice(1,e.length-1));let l=!1,u={};const f=($,w)=>{l=!0,u[$]=w},o=!t.some($=>P($,this.input,f))||n&&!n(this.input)?ue:{matched:!0,value:s(l?se in u?u[se]:u:this.input,this.input)};return new ne(this.input,o)}when(e,s){if(this.state.matched)return this;const t=!!e(this.input);return new ne(this.input,t?{matched:!0,value:s(this.input,this.input)}:ue)}otherwise(e){return this.state.matched?this.state.value:e(this.input)}exhaustive(){return this.run()}run(){if(this.state.matched)return this.state.value;let e;try{e=JSON.stringify(this.input)}catch{e=this.input}throw new Error(`Pattern matching error: no pattern matches value ${e}`)}returnType(){return this}}function ge(r,e,s){const t=r.slice();return t[3]=e[s],t}function de(r){let e,s;return e=new M({props:{head:!0,$$slots:{default:[je]},$$scope:{ctx:r}}}),{c(){b(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,n){E(e,t,n),s=!0},i(t){s||(_(e.$$.fragment,t),s=!0)},o(t){g(e.$$.fragment,t),s=!1},d(t){S(e,t)}}}function je(r){let e;return{c(){e=T("User")},l(s){e=L(s,"User")},m(s,t){h(s,e,t)},d(s){s&&m(e)}}}function We(r){let e;return{c(){e=T("Problem")},l(s){e=L(s,"Problem")},m(s,t){h(s,e,t)},d(s){s&&m(e)}}}function Ye(r){let e;return{c(){e=T("Status")},l(s){e=L(s,"Status")},m(s,t){h(s,e,t)},d(s){s&&m(e)}}}function De(r){let e;return{c(){e=T("Memory")},l(s){e=L(s,"Memory")},m(s,t){h(s,e,t)},d(s){s&&m(e)}}}function Be(r){let e;return{c(){e=T("Time")},l(s){e=L(s,"Time")},m(s,t){h(s,e,t)},d(s){s&&m(e)}}}function Ge(r){let e;return{c(){e=T("Language")},l(s){e=L(s,"Language")},m(s,t){h(s,e,t)},d(s){s&&m(e)}}}function Ke(r){let e;return{c(){e=T("Submitted at")},l(s){e=L(s,"Submitted at")},m(s,t){h(s,e,t)},d(s){s&&m(e)}}}function He(r){let e,s,t,n,l,u,f,o,$,w,k,C,U,d=r[1]&&de(r);return s=new M({props:{head:!0,$$slots:{default:[We]},$$scope:{ctx:r}}}),n=new M({props:{head:!0,$$slots:{default:[Ye]},$$scope:{ctx:r}}}),u=new M({props:{head:!0,$$slots:{default:[De]},$$scope:{ctx:r}}}),o=new M({props:{head:!0,$$slots:{default:[Be]},$$scope:{ctx:r}}}),w=new M({props:{head:!0,$$slots:{default:[Ge]},$$scope:{ctx:r}}}),C=new M({props:{head:!0,$$slots:{default:[Ke]},$$scope:{ctx:r}}}),{c(){d&&d.c(),e=N(),b(s.$$.fragment),t=N(),b(n.$$.fragment),l=N(),b(u.$$.fragment),f=N(),b(o.$$.fragment),$=N(),b(w.$$.fragment),k=N(),b(C.$$.fragment)},l(a){d&&d.l(a),e=O(a),y(s.$$.fragment,a),t=O(a),y(n.$$.fragment,a),l=O(a),y(u.$$.fragment,a),f=O(a),y(o.$$.fragment,a),$=O(a),y(w.$$.fragment,a),k=O(a),y(C.$$.fragment,a)},m(a,i){d&&d.m(a,i),h(a,e,i),E(s,a,i),h(a,t,i),E(n,a,i),h(a,l,i),E(u,a,i),h(a,f,i),E(o,a,i),h(a,$,i),E(w,a,i),h(a,k,i),E(C,a,i),U=!0},p(a,i){a[1]?d?i&2&&_(d,1):(d=de(a),d.c(),_(d,1),d.m(e.parentNode,e)):d&&(ae(),g(d,1,1,()=>{d=null}),fe());const c={};i&64&&(c.$$scope={dirty:i,ctx:a}),s.$set(c);const V={};i&64&&(V.$$scope={dirty:i,ctx:a}),n.$set(V);const X={};i&64&&(X.$$scope={dirty:i,ctx:a}),u.$set(X);const q={};i&64&&(q.$$scope={dirty:i,ctx:a}),o.$set(q);const z={};i&64&&(z.$$scope={dirty:i,ctx:a}),w.$set(z);const J={};i&64&&(J.$$scope={dirty:i,ctx:a}),C.$set(J)},i(a){U||(_(d),_(s.$$.fragment,a),_(n.$$.fragment,a),_(u.$$.fragment,a),_(o.$$.fragment,a),_(w.$$.fragment,a),_(C.$$.fragment,a),U=!0)},o(a){g(d),g(s.$$.fragment,a),g(n.$$.fragment,a),g(u.$$.fragment,a),g(o.$$.fragment,a),g(w.$$.fragment,a),g(C.$$.fragment,a),U=!1},d(a){a&&(m(e),m(t),m(l),m(f),m($),m(k)),d&&d.d(a),S(s,a),S(n,a),S(u,a),S(o,a),S(w,a),S(C,a)}}}function Fe(r){let e,s;return e=new Ce({props:{head:!0,$$slots:{default:[He]},$$scope:{ctx:r}}}),{c(){b(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,n){E(e,t,n),s=!0},p(t,n){const l={};n&66&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){s||(_(e.$$.fragment,t),s=!0)},o(t){g(e.$$.fragment,t),s=!1},d(t){S(e,t)}}}function we(r){let e,s;return e=new M({props:{$$slots:{default:[Ve]},$$scope:{ctx:r}}}),{c(){b(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,n){E(e,t,n),s=!0},p(t,n){const l={};n&65&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){s||(_(e.$$.fragment,t),s=!0)},o(t){g(e.$$.fragment,t),s=!1},d(t){S(e,t)}}}function Ve(r){var l;let e,s=((l=r[3].user)==null?void 0:l.name)+"",t,n;return{c(){e=ee("a"),t=T(s),this.h()},l(u){e=te(u,"A",{href:!0});var f=ie(e);t=L(f,s),f.forEach(m),this.h()},h(){var u;K(e,"href",n=`${F}/manage/users/${(u=r[3].user)==null?void 0:u.id}`)},m(u,f){h(u,e,f),Q(e,t)},p(u,f){var o,$;f&1&&s!==(s=((o=u[3].user)==null?void 0:o.name)+"")&&H(t,s),f&1&&n!==(n=`${F}/manage/users/${($=u[3].user)==null?void 0:$.id}`)&&K(e,"href",n)},d(u){u&&m(e)}}}function Xe(r){let e,s=r[3].problem.name+"",t,n;return{c(){e=ee("a"),t=T(s),this.h()},l(l){e=te(l,"A",{href:!0});var u=ie(e);t=L(u,s),u.forEach(m),this.h()},h(){K(e,"href",n=`${F}/problems/${r[3].problem.id}`)},m(l,u){h(l,e,u),Q(e,t)},p(l,u){u&1&&s!==(s=l[3].problem.name+"")&&H(t,s),u&1&&n!==(n=`${F}/problems/${l[3].problem.id}`)&&K(e,"href",n)},d(l){l&&m(e)}}}function qe(r){let e=re(r[3].status).with({type:"WAITING"},be).with({type:"COMPILING"},ye).with({type:"READY"},Ee).with({type:"RUNNING"},Se).with({type:"COMPLETE"},r[2]).exhaustive()+"",s;return{c(){s=T(e)},l(t){s=L(t,e)},m(t,n){h(t,s,n)},p(t,n){n&1&&e!==(e=re(t[3].status).with({type:"WAITING"},be).with({type:"COMPILING"},ye).with({type:"READY"},Ee).with({type:"RUNNING"},Se).with({type:"COMPLETE"},t[2]).exhaustive()+"")&&H(s,e)},d(t){t&&m(s)}}}function ze(r){let e=(r[3].status.type==="COMPLETE"&&r[3].status.result.type==="SUCCESS"?me(r[3].status.result.memory):"")+"",s;return{c(){s=T(e)},l(t){s=L(t,e)},m(t,n){h(t,s,n)},p(t,n){n&1&&e!==(e=(t[3].status.type==="COMPLETE"&&t[3].status.result.type==="SUCCESS"?me(t[3].status.result.memory):"")+"")&&H(s,e)},d(t){t&&m(s)}}}function Je(r){let e=r[3].status.type==="COMPLETE"&&r[3].status.result.type==="SUCCESS"?`${r[3].status.result.time}ms`:"",s;return{c(){s=T(e)},l(t){s=L(t,e)},m(t,n){h(t,s,n)},p(t,n){n&1&&e!==(e=t[3].status.type==="COMPLETE"&&t[3].status.result.type==="SUCCESS"?`${t[3].status.result.time}ms`:"")&&H(s,e)},d(t){t&&m(s)}}}function Qe(r){let e,s=pe[r[3].language]+"",t,n,l,u="(Edit)",f;return{c(){e=ee("a"),t=T(s),n=N(),l=ee("span"),l.textContent=u,this.h()},l(o){e=te(o,"A",{href:!0});var $=ie(e);t=L($,s),n=O($),l=te($,"SPAN",{class:!0,"data-svelte-h":!0}),Me(l)!=="svelte-128r5jd"&&(l.textContent=u),$.forEach(m),this.h()},h(){K(l,"class","text-xs"),K(e,"href",f=`${F}/submits/${r[3].id}`)},m(o,$){h(o,e,$),Q(e,t),Q(e,n),Q(e,l)},p(o,$){$&1&&s!==(s=pe[o[3].language]+"")&&H(t,s),$&1&&f!==(f=`${F}/submits/${o[3].id}`)&&K(e,"href",f)},d(o){o&&m(e)}}}function Ze(r){let e=he(r[3].createdAt).format("YYYY-MM-DD HH:mm:ss")+"",s;return{c(){s=T(e)},l(t){s=L(t,e)},m(t,n){h(t,s,n)},p(t,n){n&1&&e!==(e=he(t[3].createdAt).format("YYYY-MM-DD HH:mm:ss")+"")&&H(s,e)},d(t){t&&m(s)}}}function xe(r){let e,s,t,n,l,u,f,o,$,w,k,C,U,d,a=r[1]&&we(r);return s=new M({props:{$$slots:{default:[Xe]},$$scope:{ctx:r}}}),n=new M({props:{$$slots:{default:[qe]},$$scope:{ctx:r}}}),u=new M({props:{$$slots:{default:[ze]},$$scope:{ctx:r}}}),o=new M({props:{$$slots:{default:[Je]},$$scope:{ctx:r}}}),w=new M({props:{$$slots:{default:[Qe]},$$scope:{ctx:r}}}),C=new M({props:{$$slots:{default:[Ze]},$$scope:{ctx:r}}}),{c(){a&&a.c(),e=N(),b(s.$$.fragment),t=N(),b(n.$$.fragment),l=N(),b(u.$$.fragment),f=N(),b(o.$$.fragment),$=N(),b(w.$$.fragment),k=N(),b(C.$$.fragment),U=N()},l(i){a&&a.l(i),e=O(i),y(s.$$.fragment,i),t=O(i),y(n.$$.fragment,i),l=O(i),y(u.$$.fragment,i),f=O(i),y(o.$$.fragment,i),$=O(i),y(w.$$.fragment,i),k=O(i),y(C.$$.fragment,i),U=O(i)},m(i,c){a&&a.m(i,c),h(i,e,c),E(s,i,c),h(i,t,c),E(n,i,c),h(i,l,c),E(u,i,c),h(i,f,c),E(o,i,c),h(i,$,c),E(w,i,c),h(i,k,c),E(C,i,c),h(i,U,c),d=!0},p(i,c){i[1]?a?(a.p(i,c),c&2&&_(a,1)):(a=we(i),a.c(),_(a,1),a.m(e.parentNode,e)):a&&(ae(),g(a,1,1,()=>{a=null}),fe());const V={};c&65&&(V.$$scope={dirty:c,ctx:i}),s.$set(V);const X={};c&65&&(X.$$scope={dirty:c,ctx:i}),n.$set(X);const q={};c&65&&(q.$$scope={dirty:c,ctx:i}),u.$set(q);const z={};c&65&&(z.$$scope={dirty:c,ctx:i}),o.$set(z);const J={};c&65&&(J.$$scope={dirty:c,ctx:i}),w.$set(J);const oe={};c&65&&(oe.$$scope={dirty:c,ctx:i}),C.$set(oe)},i(i){d||(_(a),_(s.$$.fragment,i),_(n.$$.fragment,i),_(u.$$.fragment,i),_(o.$$.fragment,i),_(w.$$.fragment,i),_(C.$$.fragment,i),d=!0)},o(i){g(a),g(s.$$.fragment,i),g(n.$$.fragment,i),g(u.$$.fragment,i),g(o.$$.fragment,i),g(w.$$.fragment,i),g(C.$$.fragment,i),d=!1},d(i){i&&(m(e),m(t),m(l),m(f),m($),m(k),m(U)),a&&a.d(i),S(s,i),S(n,i),S(u,i),S(o,i),S(w,i),S(C,i)}}}function ve(r){let e,s;return e=new Ce({props:{$$slots:{default:[xe]},$$scope:{ctx:r}}}),{c(){b(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,n){E(e,t,n),s=!0},p(t,n){const l={};n&67&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){s||(_(e.$$.fragment,t),s=!0)},o(t){g(e.$$.fragment,t),s=!1},d(t){S(e,t)}}}function et(r){let e,s,t=ce(r[0]),n=[];for(let u=0;u<t.length;u+=1)n[u]=ve(ge(r,t,u));const l=u=>g(n[u],1,1,()=>{n[u]=null});return{c(){for(let u=0;u<n.length;u+=1)n[u].c();e=$e()},l(u){for(let f=0;f<n.length;f+=1)n[f].l(u);e=$e()},m(u,f){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(u,f);h(u,e,f),s=!0},p(u,f){if(f&3){t=ce(u[0]);let o;for(o=0;o<t.length;o+=1){const $=ge(u,t,o);n[o]?(n[o].p($,f),_(n[o],1)):(n[o]=ve($),n[o].c(),_(n[o],1),n[o].m(e.parentNode,e))}for(ae(),o=t.length;o<n.length;o+=1)l(o);fe()}},i(u){if(!s){for(let f=0;f<t.length;f+=1)_(n[f]);s=!0}},o(u){n=n.filter(Boolean);for(let f=0;f<n.length;f+=1)g(n[f]);s=!1},d(u){u&&m(e),Oe(n,u)}}}function tt(r){let e,s,t,n;return e=new Re({props:{$$slots:{default:[Fe]},$$scope:{ctx:r}}}),t=new Ae({props:{$$slots:{default:[et]},$$scope:{ctx:r}}}),{c(){b(e.$$.fragment),s=N(),b(t.$$.fragment)},l(l){y(e.$$.fragment,l),s=O(l),y(t.$$.fragment,l)},m(l,u){E(e,l,u),h(l,s,u),E(t,l,u),n=!0},p(l,u){const f={};u&66&&(f.$$scope={dirty:u,ctx:l}),e.$set(f);const o={};u&67&&(o.$$scope={dirty:u,ctx:l}),t.$set(o)},i(l){n||(_(e.$$.fragment,l),_(t.$$.fragment,l),n=!0)},o(l){g(e.$$.fragment,l),g(t.$$.fragment,l),n=!1},d(l){l&&m(s),S(e,l),S(t,l)}}}function st(r){let e,s;return e=new Ie({props:{$$slots:{default:[tt]},$$scope:{ctx:r}}}),{c(){b(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,n){E(e,t,n),s=!0},p(t,[n]){const l={};n&67&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){s||(_(e.$$.fragment,t),s=!0)},o(t){g(e.$$.fragment,t),s=!1},d(t){S(e,t)}}}const be=()=>"Waiting for compilation",ye=()=>"Compiling",Ee=()=>"Waiting for running",Se=({progress:r})=>`Running (${r}%)`;function rt(r,e,s){let{submits:t}=e,{user:n=!1}=e;const l=({result:u})=>re(u).with({type:"SUCCESS"},()=>"Success").with({type:"FAILED"},({reason:f})=>re(f).with("WRONG",()=>"Wrong answer").with("MEMORY_LIMIT_EXCEED",()=>"Memory limit exceed").with("TIME_LIMIT_EXCEED",()=>"Time limit exceed").with("RUNTIME_ERROR",()=>"Runtime error").exhaustive()).with({type:"COMPILE_ERROR"},()=>"Compile error").with({type:"UNKNOWN_ERROR"},()=>"Unknown error").exhaustive();return r.$$set=u=>{"submits"in u&&s(0,t=u.submits),"user"in u&&s(1,n=u.user)},[t,n,l]}class $t extends Te{constructor(e){super(),Le(this,e,rt,st,Ne,{submits:0,user:1})}}export{re as N,$t as S};
