import{s as Ne,a as N,c as O,i as h,d as m,e as $e,X as Oe,l as T,m as L,f as ee,g as te,h as ae,j as D,w as Q,n as H,T as Me}from"./scheduler.074396d7.js";import{S as Te,i as Le,b,d as y,m as E,a as _,t as g,e as S,g as ie,c as fe}from"./index.1e7081af.js";import{e as ce}from"./each.b8031df4.js";import{b as X}from"./paths.94ed0b11.js";import{a as me}from"./language.2e3d4dcb.js";import{f as pe}from"./filesize.esm.8a927103.js";import{h as he}from"./moment.fbc5633a.js";import{S as Ie,a as Re,b as Ae,c as Ce,d as M}from"./StructuredListRow.1094e6b1.js";const j=Symbol.for("@ts-pattern/matcher"),ke=Symbol.for("@ts-pattern/isVariadic"),se="@ts-pattern/anonymous-select-key",le=r=>!!(r&&typeof r=="object"),x=r=>r&&!!r[j],k=(r,e,s)=>{if(x(r)){const t=r[j](),{matched:n,selections:l}=t.match(e);return n&&l&&Object.keys(l).forEach(u=>s(u,l[u])),n}if(le(r)){if(!le(e))return!1;if(Array.isArray(r)){if(!Array.isArray(e))return!1;let t=[],n=[],l=[];for(const u of r.keys()){const o=r[u];x(o)&&o[ke]?l.push(o):l.length?n.push(o):t.push(o)}if(l.length){if(l.length>1)throw new Error("Pattern error: Using `...P.array(...)` several times in a single pattern is not allowed.");if(e.length<t.length+n.length)return!1;const u=e.slice(0,t.length),o=n.length===0?[]:e.slice(-n.length),f=e.slice(t.length,n.length===0?1/0:-n.length);return t.every(($,w)=>k($,u[w],s))&&n.every(($,w)=>k($,o[w],s))&&(l.length===0||k(l[0],f,s))}return r.length===e.length&&r.every((u,o)=>k(u,e[o],s))}return Object.keys(r).every(t=>{const n=r[t];return(t in e||x(l=n)&&l[j]().matcherType==="optional")&&k(n,e[t],s);var l})}return Object.is(e,r)},B=r=>{var e,s,t;return le(r)?x(r)?(e=(s=(t=r[j]()).getSelectionKeys)==null?void 0:s.call(t))!=null?e:[]:Array.isArray(r)?Z(r,B):Z(Object.values(r),B):[]},Z=(r,e)=>r.reduce((s,t)=>s.concat(e(t)),[]);function I(r){return Object.assign(r,{optional:()=>Pe(r),and:e=>v(r,e),or:e=>Ue(r,e),select:e=>e===void 0?_e(r):_e(e,r)})}function Pe(r){return I({[j]:()=>({match:e=>{let s={};const t=(n,l)=>{s[n]=l};return e===void 0?(B(r).forEach(n=>t(n,void 0)),{matched:!0,selections:s}):{matched:k(r,e,t),selections:s}},getSelectionKeys:()=>B(r),matcherType:"optional"})})}function v(...r){return I({[j]:()=>({match:e=>{let s={};const t=(n,l)=>{s[n]=l};return{matched:r.every(n=>k(n,e,t)),selections:s}},getSelectionKeys:()=>Z(r,B),matcherType:"and"})})}function Ue(...r){return I({[j]:()=>({match:e=>{let s={};const t=(n,l)=>{s[n]=l};return Z(r,B).forEach(n=>t(n,void 0)),{matched:r.some(n=>k(n,e,t)),selections:s}},getSelectionKeys:()=>Z(r,B),matcherType:"or"})})}function p(r){return{[j]:()=>({match:e=>({matched:!!r(e)})})}}function _e(...r){const e=typeof r[0]=="string"?r[0]:void 0,s=r.length===2?r[1]:typeof r[0]=="string"?void 0:r[0];return I({[j]:()=>({match:t=>{let n={[e??se]:t};return{matched:s===void 0||k(s,t,(l,u)=>{n[l]=u}),selections:n}},getSelectionKeys:()=>[e??se].concat(s===void 0?[]:B(s))})})}function R(r){return typeof r=="number"}function G(r){return typeof r=="string"}function W(r){return typeof r=="bigint"}I(p(function(r){return!0}));const K=r=>Object.assign(I(r),{startsWith:e=>{return K(v(r,(s=e,p(t=>G(t)&&t.startsWith(s)))));var s},endsWith:e=>{return K(v(r,(s=e,p(t=>G(t)&&t.endsWith(s)))));var s},minLength:e=>K(v(r,(s=>p(t=>G(t)&&t.length>=s))(e))),maxLength:e=>K(v(r,(s=>p(t=>G(t)&&t.length<=s))(e))),includes:e=>{return K(v(r,(s=e,p(t=>G(t)&&t.includes(s)))));var s},regex:e=>{return K(v(r,(s=e,p(t=>G(t)&&!!t.match(s)))));var s}});K(p(G));const A=r=>Object.assign(I(r),{between:(e,s)=>A(v(r,((t,n)=>p(l=>R(l)&&t<=l&&n>=l))(e,s))),lt:e=>A(v(r,(s=>p(t=>R(t)&&t<s))(e))),gt:e=>A(v(r,(s=>p(t=>R(t)&&t>s))(e))),lte:e=>A(v(r,(s=>p(t=>R(t)&&t<=s))(e))),gte:e=>A(v(r,(s=>p(t=>R(t)&&t>=s))(e))),int:()=>A(v(r,p(e=>R(e)&&Number.isInteger(e)))),finite:()=>A(v(r,p(e=>R(e)&&Number.isFinite(e)))),positive:()=>A(v(r,p(e=>R(e)&&e>0))),negative:()=>A(v(r,p(e=>R(e)&&e<0)))});A(p(R));const Y=r=>Object.assign(I(r),{between:(e,s)=>Y(v(r,((t,n)=>p(l=>W(l)&&t<=l&&n>=l))(e,s))),lt:e=>Y(v(r,(s=>p(t=>W(t)&&t<s))(e))),gt:e=>Y(v(r,(s=>p(t=>W(t)&&t>s))(e))),lte:e=>Y(v(r,(s=>p(t=>W(t)&&t<=s))(e))),gte:e=>Y(v(r,(s=>p(t=>W(t)&&t>=s))(e))),positive:()=>Y(v(r,p(e=>W(e)&&e>0))),negative:()=>Y(v(r,p(e=>W(e)&&e<0)))});Y(p(W));I(p(function(r){return typeof r=="boolean"}));I(p(function(r){return typeof r=="symbol"}));I(p(function(r){return r==null}));const ue={matched:!1,value:void 0};function re(r){return new ne(r,ue)}class ne{constructor(e,s){this.input=void 0,this.state=void 0,this.input=e,this.state=s}with(...e){if(this.state.matched)return this;const s=e[e.length-1],t=[e[0]];let n;e.length===3&&typeof e[1]=="function"?(t.push(e[0]),n=e[1]):e.length>2&&t.push(...e.slice(1,e.length-1));let l=!1,u={};const o=($,w)=>{l=!0,u[$]=w},f=!t.some($=>k($,this.input,o))||n&&!n(this.input)?ue:{matched:!0,value:s(l?se in u?u[se]:u:this.input,this.input)};return new ne(this.input,f)}when(e,s){if(this.state.matched)return this;const t=!!e(this.input);return new ne(this.input,t?{matched:!0,value:s(this.input,this.input)}:ue)}otherwise(e){return this.state.matched?this.state.value:e(this.input)}exhaustive(){return this.run()}run(){if(this.state.matched)return this.state.value;let e;try{e=JSON.stringify(this.input)}catch{e=this.input}throw new Error(`Pattern matching error: no pattern matches value ${e}`)}returnType(){return this}}function ge(r,e,s){const t=r.slice();return t[3]=e[s],t}function de(r){let e,s;return e=new M({props:{head:!0,$$slots:{default:[je]},$$scope:{ctx:r}}}),{c(){b(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,n){E(e,t,n),s=!0},i(t){s||(_(e.$$.fragment,t),s=!0)},o(t){g(e.$$.fragment,t),s=!1},d(t){S(e,t)}}}function je(r){let e;return{c(){e=T("User")},l(s){e=L(s,"User")},m(s,t){h(s,e,t)},d(s){s&&m(e)}}}function We(r){let e;return{c(){e=T("Problem")},l(s){e=L(s,"Problem")},m(s,t){h(s,e,t)},d(s){s&&m(e)}}}function Ye(r){let e;return{c(){e=T("Status")},l(s){e=L(s,"Status")},m(s,t){h(s,e,t)},d(s){s&&m(e)}}}function De(r){let e;return{c(){e=T("Memory")},l(s){e=L(s,"Memory")},m(s,t){h(s,e,t)},d(s){s&&m(e)}}}function Be(r){let e;return{c(){e=T("Time")},l(s){e=L(s,"Time")},m(s,t){h(s,e,t)},d(s){s&&m(e)}}}function Ge(r){let e;return{c(){e=T("Language")},l(s){e=L(s,"Language")},m(s,t){h(s,e,t)},d(s){s&&m(e)}}}function Ke(r){let e;return{c(){e=T("Submitted at")},l(s){e=L(s,"Submitted at")},m(s,t){h(s,e,t)},d(s){s&&m(e)}}}function He(r){let e,s,t,n,l,u,o,f,$,w,P,C,U,d=r[1]&&de(r);return s=new M({props:{head:!0,$$slots:{default:[We]},$$scope:{ctx:r}}}),n=new M({props:{head:!0,$$slots:{default:[Ye]},$$scope:{ctx:r}}}),u=new M({props:{head:!0,$$slots:{default:[De]},$$scope:{ctx:r}}}),f=new M({props:{head:!0,$$slots:{default:[Be]},$$scope:{ctx:r}}}),w=new M({props:{head:!0,$$slots:{default:[Ge]},$$scope:{ctx:r}}}),C=new M({props:{head:!0,$$slots:{default:[Ke]},$$scope:{ctx:r}}}),{c(){d&&d.c(),e=N(),b(s.$$.fragment),t=N(),b(n.$$.fragment),l=N(),b(u.$$.fragment),o=N(),b(f.$$.fragment),$=N(),b(w.$$.fragment),P=N(),b(C.$$.fragment)},l(i){d&&d.l(i),e=O(i),y(s.$$.fragment,i),t=O(i),y(n.$$.fragment,i),l=O(i),y(u.$$.fragment,i),o=O(i),y(f.$$.fragment,i),$=O(i),y(w.$$.fragment,i),P=O(i),y(C.$$.fragment,i)},m(i,a){d&&d.m(i,a),h(i,e,a),E(s,i,a),h(i,t,a),E(n,i,a),h(i,l,a),E(u,i,a),h(i,o,a),E(f,i,a),h(i,$,a),E(w,i,a),h(i,P,a),E(C,i,a),U=!0},p(i,a){i[1]?d?a&2&&_(d,1):(d=de(i),d.c(),_(d,1),d.m(e.parentNode,e)):d&&(ie(),g(d,1,1,()=>{d=null}),fe());const c={};a&64&&(c.$$scope={dirty:a,ctx:i}),s.$set(c);const F={};a&64&&(F.$$scope={dirty:a,ctx:i}),n.$set(F);const q={};a&64&&(q.$$scope={dirty:a,ctx:i}),u.$set(q);const z={};a&64&&(z.$$scope={dirty:a,ctx:i}),f.$set(z);const J={};a&64&&(J.$$scope={dirty:a,ctx:i}),w.$set(J);const V={};a&64&&(V.$$scope={dirty:a,ctx:i}),C.$set(V)},i(i){U||(_(d),_(s.$$.fragment,i),_(n.$$.fragment,i),_(u.$$.fragment,i),_(f.$$.fragment,i),_(w.$$.fragment,i),_(C.$$.fragment,i),U=!0)},o(i){g(d),g(s.$$.fragment,i),g(n.$$.fragment,i),g(u.$$.fragment,i),g(f.$$.fragment,i),g(w.$$.fragment,i),g(C.$$.fragment,i),U=!1},d(i){i&&(m(e),m(t),m(l),m(o),m($),m(P)),d&&d.d(i),S(s,i),S(n,i),S(u,i),S(f,i),S(w,i),S(C,i)}}}function Xe(r){let e,s;return e=new Ce({props:{head:!0,$$slots:{default:[He]},$$scope:{ctx:r}}}),{c(){b(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,n){E(e,t,n),s=!0},p(t,n){const l={};n&66&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){s||(_(e.$$.fragment,t),s=!0)},o(t){g(e.$$.fragment,t),s=!1},d(t){S(e,t)}}}function we(r){let e,s;return e=new M({props:{$$slots:{default:[Fe]},$$scope:{ctx:r}}}),{c(){b(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,n){E(e,t,n),s=!0},p(t,n){const l={};n&65&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){s||(_(e.$$.fragment,t),s=!0)},o(t){g(e.$$.fragment,t),s=!1},d(t){S(e,t)}}}function Fe(r){var l;let e,s=((l=r[3].user)==null?void 0:l.name)+"",t,n;return{c(){e=ee("a"),t=T(s),this.h()},l(u){e=te(u,"A",{href:!0});var o=ae(e);t=L(o,s),o.forEach(m),this.h()},h(){var u;D(e,"href",n=`${X}/manage/users/${(u=r[3].user)==null?void 0:u.id}`)},m(u,o){h(u,e,o),Q(e,t)},p(u,o){var f,$;o&1&&s!==(s=((f=u[3].user)==null?void 0:f.name)+"")&&H(t,s),o&1&&n!==(n=`${X}/manage/users/${($=u[3].user)==null?void 0:$.id}`)&&D(e,"href",n)},d(u){u&&m(e)}}}function qe(r){let e,s=r[3].problem.name+"",t,n;return{c(){e=ee("a"),t=T(s),this.h()},l(l){e=te(l,"A",{href:!0,class:!0});var u=ae(e);t=L(u,s),u.forEach(m),this.h()},h(){D(e,"href",n=`${X}/problems/${r[3].problem.id}`),D(e,"class","py-2 block")},m(l,u){h(l,e,u),Q(e,t)},p(l,u){u&1&&s!==(s=l[3].problem.name+"")&&H(t,s),u&1&&n!==(n=`${X}/problems/${l[3].problem.id}`)&&D(e,"href",n)},d(l){l&&m(e)}}}function ze(r){let e=re(r[3].status).with({type:"WAITING"},be).with({type:"COMPILING"},ye).with({type:"READY"},Ee).with({type:"RUNNING"},Se).with({type:"COMPLETE"},r[2]).exhaustive()+"",s;return{c(){s=T(e)},l(t){s=L(t,e)},m(t,n){h(t,s,n)},p(t,n){n&1&&e!==(e=re(t[3].status).with({type:"WAITING"},be).with({type:"COMPILING"},ye).with({type:"READY"},Ee).with({type:"RUNNING"},Se).with({type:"COMPLETE"},t[2]).exhaustive()+"")&&H(s,e)},d(t){t&&m(s)}}}function Je(r){let e=(r[3].status.type==="COMPLETE"&&r[3].status.result.type==="SUCCESS"?pe(r[3].status.result.memory):"")+"",s;return{c(){s=T(e)},l(t){s=L(t,e)},m(t,n){h(t,s,n)},p(t,n){n&1&&e!==(e=(t[3].status.type==="COMPLETE"&&t[3].status.result.type==="SUCCESS"?pe(t[3].status.result.memory):"")+"")&&H(s,e)},d(t){t&&m(s)}}}function Ve(r){let e=r[3].status.type==="COMPLETE"&&r[3].status.result.type==="SUCCESS"?`${r[3].status.result.time}ms`:"",s;return{c(){s=T(e)},l(t){s=L(t,e)},m(t,n){h(t,s,n)},p(t,n){n&1&&e!==(e=t[3].status.type==="COMPLETE"&&t[3].status.result.type==="SUCCESS"?`${t[3].status.result.time}ms`:"")&&H(s,e)},d(t){t&&m(s)}}}function Qe(r){let e,s=me[r[3].language]+"",t,n,l,u="(Edit)",o;return{c(){e=ee("a"),t=T(s),n=N(),l=ee("span"),l.textContent=u,this.h()},l(f){e=te(f,"A",{href:!0});var $=ae(e);t=L($,s),n=O($),l=te($,"SPAN",{class:!0,"data-svelte-h":!0}),Me(l)!=="svelte-128r5jd"&&(l.textContent=u),$.forEach(m),this.h()},h(){D(l,"class","text-xs"),D(e,"href",o=`${X}/submits/${r[3].id}${r[1]?"?manage":""}`)},m(f,$){h(f,e,$),Q(e,t),Q(e,n),Q(e,l)},p(f,$){$&1&&s!==(s=me[f[3].language]+"")&&H(t,s),$&3&&o!==(o=`${X}/submits/${f[3].id}${f[1]?"?manage":""}`)&&D(e,"href",o)},d(f){f&&m(e)}}}function Ze(r){let e=he(r[3].createdAt).format("YYYY-MM-DD HH:mm:ss")+"",s;return{c(){s=T(e)},l(t){s=L(t,e)},m(t,n){h(t,s,n)},p(t,n){n&1&&e!==(e=he(t[3].createdAt).format("YYYY-MM-DD HH:mm:ss")+"")&&H(s,e)},d(t){t&&m(s)}}}function xe(r){let e,s,t,n,l,u,o,f,$,w,P,C,U,d,i=r[1]&&we(r);return s=new M({props:{$$slots:{default:[qe]},$$scope:{ctx:r}}}),n=new M({props:{$$slots:{default:[ze]},$$scope:{ctx:r}}}),u=new M({props:{$$slots:{default:[Je]},$$scope:{ctx:r}}}),f=new M({props:{$$slots:{default:[Ve]},$$scope:{ctx:r}}}),w=new M({props:{$$slots:{default:[Qe]},$$scope:{ctx:r}}}),C=new M({props:{$$slots:{default:[Ze]},$$scope:{ctx:r}}}),{c(){i&&i.c(),e=N(),b(s.$$.fragment),t=N(),b(n.$$.fragment),l=N(),b(u.$$.fragment),o=N(),b(f.$$.fragment),$=N(),b(w.$$.fragment),P=N(),b(C.$$.fragment),U=N()},l(a){i&&i.l(a),e=O(a),y(s.$$.fragment,a),t=O(a),y(n.$$.fragment,a),l=O(a),y(u.$$.fragment,a),o=O(a),y(f.$$.fragment,a),$=O(a),y(w.$$.fragment,a),P=O(a),y(C.$$.fragment,a),U=O(a)},m(a,c){i&&i.m(a,c),h(a,e,c),E(s,a,c),h(a,t,c),E(n,a,c),h(a,l,c),E(u,a,c),h(a,o,c),E(f,a,c),h(a,$,c),E(w,a,c),h(a,P,c),E(C,a,c),h(a,U,c),d=!0},p(a,c){a[1]?i?(i.p(a,c),c&2&&_(i,1)):(i=we(a),i.c(),_(i,1),i.m(e.parentNode,e)):i&&(ie(),g(i,1,1,()=>{i=null}),fe());const F={};c&65&&(F.$$scope={dirty:c,ctx:a}),s.$set(F);const q={};c&65&&(q.$$scope={dirty:c,ctx:a}),n.$set(q);const z={};c&65&&(z.$$scope={dirty:c,ctx:a}),u.$set(z);const J={};c&65&&(J.$$scope={dirty:c,ctx:a}),f.$set(J);const V={};c&67&&(V.$$scope={dirty:c,ctx:a}),w.$set(V);const oe={};c&65&&(oe.$$scope={dirty:c,ctx:a}),C.$set(oe)},i(a){d||(_(i),_(s.$$.fragment,a),_(n.$$.fragment,a),_(u.$$.fragment,a),_(f.$$.fragment,a),_(w.$$.fragment,a),_(C.$$.fragment,a),d=!0)},o(a){g(i),g(s.$$.fragment,a),g(n.$$.fragment,a),g(u.$$.fragment,a),g(f.$$.fragment,a),g(w.$$.fragment,a),g(C.$$.fragment,a),d=!1},d(a){a&&(m(e),m(t),m(l),m(o),m($),m(P),m(U)),i&&i.d(a),S(s,a),S(n,a),S(u,a),S(f,a),S(w,a),S(C,a)}}}function ve(r){let e,s;return e=new Ce({props:{$$slots:{default:[xe]},$$scope:{ctx:r}}}),{c(){b(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,n){E(e,t,n),s=!0},p(t,n){const l={};n&67&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){s||(_(e.$$.fragment,t),s=!0)},o(t){g(e.$$.fragment,t),s=!1},d(t){S(e,t)}}}function et(r){let e,s,t=ce(r[0]),n=[];for(let u=0;u<t.length;u+=1)n[u]=ve(ge(r,t,u));const l=u=>g(n[u],1,1,()=>{n[u]=null});return{c(){for(let u=0;u<n.length;u+=1)n[u].c();e=$e()},l(u){for(let o=0;o<n.length;o+=1)n[o].l(u);e=$e()},m(u,o){for(let f=0;f<n.length;f+=1)n[f]&&n[f].m(u,o);h(u,e,o),s=!0},p(u,o){if(o&3){t=ce(u[0]);let f;for(f=0;f<t.length;f+=1){const $=ge(u,t,f);n[f]?(n[f].p($,o),_(n[f],1)):(n[f]=ve($),n[f].c(),_(n[f],1),n[f].m(e.parentNode,e))}for(ie(),f=t.length;f<n.length;f+=1)l(f);fe()}},i(u){if(!s){for(let o=0;o<t.length;o+=1)_(n[o]);s=!0}},o(u){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)g(n[o]);s=!1},d(u){u&&m(e),Oe(n,u)}}}function tt(r){let e,s,t,n;return e=new Re({props:{$$slots:{default:[Xe]},$$scope:{ctx:r}}}),t=new Ae({props:{$$slots:{default:[et]},$$scope:{ctx:r}}}),{c(){b(e.$$.fragment),s=N(),b(t.$$.fragment)},l(l){y(e.$$.fragment,l),s=O(l),y(t.$$.fragment,l)},m(l,u){E(e,l,u),h(l,s,u),E(t,l,u),n=!0},p(l,u){const o={};u&66&&(o.$$scope={dirty:u,ctx:l}),e.$set(o);const f={};u&67&&(f.$$scope={dirty:u,ctx:l}),t.$set(f)},i(l){n||(_(e.$$.fragment,l),_(t.$$.fragment,l),n=!0)},o(l){g(e.$$.fragment,l),g(t.$$.fragment,l),n=!1},d(l){l&&m(s),S(e,l),S(t,l)}}}function st(r){let e,s;return e=new Ie({props:{condensed:!0,$$slots:{default:[tt]},$$scope:{ctx:r}}}),{c(){b(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,n){E(e,t,n),s=!0},p(t,[n]){const l={};n&67&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){s||(_(e.$$.fragment,t),s=!0)},o(t){g(e.$$.fragment,t),s=!1},d(t){S(e,t)}}}const be=()=>"Waiting for compilation",ye=()=>"Compiling",Ee=()=>"Waiting for running",Se=({progress:r})=>`Running (${r}%)`;function rt(r,e,s){let{submits:t}=e,{manage:n=!1}=e;const l=({result:u})=>re(u).with({type:"SUCCESS"},()=>"Success").with({type:"FAILED"},({reason:o})=>re(o).with("WRONG",()=>"Wrong answer").with("MEMORY_LIMIT_EXCEED",()=>"Memory limit exceed").with("TIME_LIMIT_EXCEED",()=>"Time limit exceed").with("RUNTIME_ERROR",()=>"Runtime error").exhaustive()).with({type:"COMPILE_ERROR"},()=>"Compile error").with({type:"UNKNOWN_ERROR"},()=>"Unknown error").exhaustive();return r.$$set=u=>{"submits"in u&&s(0,t=u.submits),"manage"in u&&s(1,n=u.manage)},[t,n,l]}class ct extends Te{constructor(e){super(),Le(this,e,rt,st,Ne,{submits:0,manage:1})}}export{re as N,ct as S};
