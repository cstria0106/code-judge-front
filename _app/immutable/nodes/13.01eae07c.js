import{s as h,o as v,f as k,a as w,e as b,g as C,T as S,c as y,j as x,i as u,d as f}from"../chunks/scheduler.ab7c2898.js";import{S as N,i as T,b as $,d as p,m as _,a as l,t as m,e as d,g as U,c as W}from"../chunks/index.956fb253.js";import{a as j}from"../chunks/api.329286e0.js";import{U as q}from"../chunks/UserOnly.5aae3bc9.js";import{c as H}from"../chunks/websocket.f71c8962.js";import"../chunks/moment.fbc5633a.js";import{N as M,S as O}from"../chunks/SubmitTable.44b31859.js";import{C as P}from"../chunks/Column.8bd8b6f7.js";function g(c){let t,o;return t=new O({props:{submits:c[0]}}),{c(){$(t.$$.fragment)},l(e){p(t.$$.fragment,e)},m(e,s){_(t,e,s),o=!0},p(e,s){const r={};s&1&&(r.submits=e[0]),t.$set(r)},i(e){o||(l(t.$$.fragment,e),o=!0)},o(e){m(t.$$.fragment,e),o=!1},d(e){d(t,e)}}}function z(c){let t,o="Submits",e,s,r,n=c[0]!==void 0&&g(c);return{c(){t=k("h4"),t.textContent=o,e=w(),n&&n.c(),s=b(),this.h()},l(a){t=C(a,"H4",{class:!0,"data-svelte-h":!0}),S(t)!=="svelte-1g63hne"&&(t.textContent=o),e=y(a),n&&n.l(a),s=b(),this.h()},h(){x(t,"class","mb-4")},m(a,i){u(a,t,i),u(a,e,i),n&&n.m(a,i),u(a,s,i),r=!0},p(a,i){a[0]!==void 0?n?(n.p(a,i),i&1&&l(n,1)):(n=g(a),n.c(),l(n,1),n.m(s.parentNode,s)):n&&(U(),m(n,1,1,()=>{n=null}),W())},i(a){r||(l(n),r=!0)},o(a){m(n),r=!1},d(a){a&&(f(t),f(e),f(s)),n&&n.d(a)}}}function A(c){let t,o;return t=new P({props:{$$slots:{default:[z]},$$scope:{ctx:c}}}),{c(){$(t.$$.fragment)},l(e){p(t.$$.fragment,e)},m(e,s){_(t,e,s),o=!0},p(e,s){const r={};s&3&&(r.$$scope={dirty:s,ctx:e}),t.$set(r)},i(e){o||(l(t.$$.fragment,e),o=!0)},o(e){m(t.$$.fragment,e),o=!1},d(e){d(t,e)}}}function B(c){let t,o;return t=new q({props:{$$slots:{default:[A]},$$scope:{ctx:c}}}),{c(){$(t.$$.fragment)},l(e){p(t.$$.fragment,e)},m(e,s){_(t,e,s),o=!0},p(e,[s]){const r={};s&3&&(r.$$scope={dirty:s,ctx:e}),t.$set(r)},i(e){o||(l(t.$$.fragment,e),o=!0)},o(e){m(t.$$.fragment,e),o=!1},d(e){d(t,e)}}}let D=0;function E(c,t,o){v(async()=>{const s=await H(j());s.receive().subscribe(n=>{M(n).with({event:"get/submit/initial"},a=>{o(0,e=a.data.submits)}).with({event:"get/submit/update"},a=>{o(0,e=e==null?void 0:e.map(i=>i.id!==a.data.submit.id?i:{...i,status:a.data.submit.status}))}).otherwise(()=>{})}),s.send({event:"get/submit",data:{skip:D}})});let e;return[e]}class V extends N{constructor(t){super(),T(this,t,E,B,h,{})}}export{V as component};
