import{s as R,G as W,f as h,g as v,h as O,d as m,j as S,i as g,u,a as D,c as I,S as X,T as Y,p as B,H as N,w as P,D as Z,Q as H}from"../chunks/scheduler.cf24fc46.js";import{h as ee,u as te}from"../chunks/await_block.a4a2b8d2.js";import{S as ae,i as ne,b as k,d as w,m as C,a as _,t as $,e as q,f as L}from"../chunks/index.1a695a89.js";import{p as oe}from"../chunks/stores.6f0d6a2c.js";import{g as z}from"../chunks/api.4c769691.js";import{B as A}from"../chunks/Box.dae89304.js";import{a as F}from"../chunks/module.169a8bc7.js";/* empty css                         */import{Q as le}from"../chunks/CodeEditor.6af6e19d.js";import{g as se}from"../chunks/navigation.dcae86f3.js";import{U as re}from"../chunks/UserOnly.fe838c0f.js";import{L as ie}from"../chunks/LanguageSelector.23505d9d.js";import{b as ue}from"../chunks/paths.add0a950.js";function ce(l){return{c:u,l:u,m:u,p:u,i:u,o:u,d:u}}function fe(l){let t,s,a,n;return t=new A({props:{class:"laptop:flex-[8]",$$slots:{default:[me]},$$scope:{ctx:l}}}),a=new A({props:{class:"laptop:flex-[6]",$$slots:{default:[pe]},$$scope:{ctx:l}}}),{c(){k(t.$$.fragment),s=D(),k(a.$$.fragment)},l(e){w(t.$$.fragment,e),s=I(e),w(a.$$.fragment,e)},m(e,i){C(t,e,i),g(e,s,i),C(a,e,i),n=!0},p(e,i){const p={};i&256&&(p.$$scope={dirty:i,ctx:e}),t.$set(p);const c={};i&259&&(c.$$scope={dirty:i,ctx:e}),a.$set(c)},i(e){n||(_(t.$$.fragment,e),_(a.$$.fragment,e),n=!0)},o(e){$(t.$$.fragment,e),$(a.$$.fragment,e),n=!1},d(e){e&&m(s),q(t,e),q(a,e)}}}function me(l){let t,s,a=l[3].description+"";return{c(){t=h("div"),s=new X(!1),this.h()},l(n){t=v(n,"DIV",{class:!0});var e=O(t);s=Y(e,!1),e.forEach(m),this.h()},h(){s.a=null,S(t,"class","markdown")},m(n,e){g(n,t,e),s.m(a,t)},p:u,d(n){n&&m(t)}}}function pe(l){let t,s="Submit",a,n,e,i="Language",p,c,b,d,r,y,E,x,T,U;function J(o){l[4](o)}let Q={languages:Object.keys(l[3].templates)};l[0]!==void 0&&(Q.language=l[0]),c=new ie({props:Q}),B.push(()=>L(c,"language",J));function K(o){l[5](o)}function M(o){l[6](o)}let V={};return l[1][l[0]]!==void 0&&(V.code=l[1][l[0]]),l[0]!==void 0&&(V.language=l[0]),r=new le({props:V}),B.push(()=>L(r,"code",K)),B.push(()=>L(r,"language",M)),{c(){t=h("button"),t.textContent=s,a=D(),n=h("div"),e=h("div"),e.textContent=i,p=D(),k(c.$$.fragment),d=D(),k(r.$$.fragment),this.h()},l(o){t=v(o,"BUTTON",{"data-svelte-h":!0}),N(t)!=="svelte-1mqqkko"&&(t.textContent=s),a=I(o),n=v(o,"DIV",{class:!0});var f=O(n);e=v(f,"DIV",{class:!0,"data-svelte-h":!0}),N(e)!=="svelte-dbq2nd"&&(e.textContent=i),p=I(f),w(c.$$.fragment,f),f.forEach(m),d=I(o),w(r.$$.fragment,o),this.h()},h(){S(e,"class","label"),S(n,"class","mt-4 flex flex-row gap-x-2 items-center justify-end")},m(o,f){g(o,t,f),g(o,a,f),g(o,n,f),P(n,e),P(n,p),C(c,n,null),g(o,d,f),C(r,o,f),x=!0,T||(U=Z(t,"click",l[2]),T=!0)},p(o,f){const G={};!b&&f&1&&(b=!0,G.language=o[0],H(()=>b=!1)),c.$set(G);const j={};!y&&f&3&&(y=!0,j.code=o[1][o[0]],H(()=>y=!1)),!E&&f&1&&(E=!0,j.language=o[0],H(()=>E=!1)),r.$set(j)},i(o){x||(_(c.$$.fragment,o),_(r.$$.fragment,o),x=!0)},o(o){$(c.$$.fragment,o),$(r.$$.fragment,o),x=!1},d(o){o&&(m(t),m(a),m(n),m(d)),q(c),q(r,o),T=!1,U()}}}function ge(l){return{c:u,l:u,m:u,p:u,i:u,o:u,d:u}}function de(l){let t,s,a={ctx:l,current:null,token:null,hasCatch:!1,pending:ge,then:fe,catch:ce,value:3,blocks:[,,,]};return ee(l[3],a),{c(){t=h("div"),a.block.c(),this.h()},l(n){t=v(n,"DIV",{class:!0});var e=O(t);a.block.l(e),e.forEach(m),this.h()},h(){S(t,"class","flex flex-col gap-4 laptop:flex-row laptop:w-[calc(100vw-64px-128px)]")},m(n,e){g(n,t,e),a.block.m(t,a.anchor=null),a.mount=()=>t,a.anchor=null,s=!0},p(n,e){l=n,te(a,l,e)},i(n){s||(_(a.block),s=!0)},o(n){for(let e=0;e<3;e+=1){const i=a.blocks[e];$(i)}s=!1},d(n){n&&m(t),a.block.d(),a.token=null,a=null}}}function _e(l){let t,s;return t=new re({props:{$$slots:{default:[de]},$$scope:{ctx:l}}}),{c(){k(t.$$.fragment)},l(a){w(t.$$.fragment,a)},m(a,n){C(t,a,n),s=!0},p(a,[n]){const e={};n&259&&(e.$$scope={dirty:n,ctx:a}),t.$set(e)},i(a){s||(_(t.$$.fragment,a),s=!0)},o(a){$(t.$$.fragment,a),s=!1},d(a){q(t,a)}}}function $e(l,t,s){const a=W(oe).params.id,n=F.functional.problem.get(z(),a).then(r=>r.problem);let e="C",i={};n.then(r=>{s(1,i=r.templates)});async function p(){await F.functional.submit.create(z(),{language:e,code:i[e]??"",problemId:a}),se(`${ue}/submits`)}function c(r){e=r,s(0,e)}function b(r){l.$$.not_equal(i[e],r)&&(i[e]=r,s(1,i))}function d(r){e=r,s(0,e)}return[e,i,p,n,c,b,d]}class Te extends ae{constructor(t){super(),ne(this,t,$e,_e,R,{})}}export{Te as component};
