import{s as ue,a as I,c as D,i as b,d as $,e as L,f as N,l as V,g as A,h as O,H as R,m as F,j as B,w as x,D as J,n as oe,E as $e,u as ne}from"../chunks/scheduler.cf24fc46.js";import{S as ce,i as me,b as w,d as C,m as P,a as p,t as d,e as E,g as re,c as le}from"../chunks/index.1a695a89.js";import{g as G}from"../chunks/navigation.fb992fbb.js";import{B as W}from"../chunks/BoxTitle.39ecf30e.js";import{U as pe}from"../chunks/UserOnly.c44333fd.js";import{B as X}from"../chunks/Box.dae89304.js";import{F as _e}from"../chunks/FetchUser.70016957.js";import{F as K,a as de,b as ge,c as be,d as ve,e as he}from"../chunks/index.280987f5.js";import{a as ke}from"../chunks/store.8297d846.js";import{r as xe}from"../chunks/app.4d00d2b5.js";import{a as we}from"../chunks/module.169a8bc7.js";import{g as Ce}from"../chunks/api.5d704809.js";import{P as Pe}from"../chunks/Problems.e2d300c9.js";import{O as Ee}from"../chunks/Orientation.5c54c58d.js";function fe(a){let t,n;return t=new Ee({props:{vertical:!0,$$slots:{default:[Ve]},$$scope:{ctx:a}}}),{c(){w(t.$$.fragment)},l(e){C(t.$$.fragment,e)},m(e,r){P(t,e,r),n=!0},p(e,r){const l={};r&384&&(l.$$scope={dirty:r,ctx:e}),t.$set(l)},i(e){n||(p(t.$$.fragment,e),n=!0)},o(e){d(t.$$.fragment,e),n=!1},d(e){E(t,e)}}}function Ne(a){let t,n,e;return t=new K({props:{icon:be}}),{c(){w(t.$$.fragment),n=V(" User Information")},l(r){C(t.$$.fragment,r),n=F(r," User Information")},m(r,l){P(t,r,l),b(r,n,l),e=!0},p:ne,i(r){e||(p(t.$$.fragment,r),e=!0)},o(r){d(t.$$.fragment,r),e=!1},d(r){r&&$(n),E(t,r)}}}function Ae(a){let t,n,e,r,l="ID",f,g,_=a[7].id+"",s,v,i,o="Name",c,U,T=a[7].name+"",M,j,m,h,S,q,y,H,Y,Q,Z,se;return t=new W({props:{$$slots:{default:[Ne]},$$scope:{ctx:a}}}),h=new K({props:{icon:de}}),H=new K({props:{icon:ge}}),{c(){w(t.$$.fragment),n=I(),e=N("div"),r=N("div"),r.textContent=l,f=I(),g=N("div"),s=V(_),v=I(),i=N("div"),i.textContent=o,c=I(),U=N("div"),M=V(T),j=I(),m=N("button"),w(h.$$.fragment),S=V(`
          Edit`),q=I(),y=N("button"),w(H.$$.fragment),Y=V(`
          Sign Out`),this.h()},l(u){C(t.$$.fragment,u),n=D(u),e=A(u,"DIV",{class:!0});var k=O(e);r=A(k,"DIV",{"data-svelte-h":!0}),R(r)!=="svelte-1mtr7hb"&&(r.textContent=l),f=D(k),g=A(k,"DIV",{class:!0});var z=O(g);s=F(z,_),z.forEach($),v=D(k),i=A(k,"DIV",{"data-svelte-h":!0}),R(i)!=="svelte-ylpshh"&&(i.textContent=o),c=D(k),U=A(k,"DIV",{class:!0});var ae=O(U);M=F(ae,T),ae.forEach($),k.forEach($),j=D(u),m=A(u,"BUTTON",{class:!0});var ee=O(m);C(h.$$.fragment,ee),S=F(ee,`
          Edit`),ee.forEach($),q=D(u),y=A(u,"BUTTON",{class:!0});var te=O(y);C(H.$$.fragment,te),Y=F(te,`
          Sign Out`),te.forEach($),this.h()},h(){B(g,"class","text"),B(U,"class","text"),B(e,"class","grid grid-cols-[1fr_auto] [&>.text]:text-right gap-y-2"),B(m,"class","mt-4"),B(y,"class","mt-2")},m(u,k){P(t,u,k),b(u,n,k),b(u,e,k),x(e,r),x(e,f),x(e,g),x(g,s),x(e,v),x(e,i),x(e,c),x(e,U),x(U,M),b(u,j,k),b(u,m,k),P(h,m,null),x(m,S),b(u,q,k),b(u,y,k),P(H,y,null),x(y,Y),Q=!0,Z||(se=[J(m,"click",a[2]),J(y,"click",a[1])],Z=!0)},p(u,k){const z={};k&256&&(z.$$scope={dirty:k,ctx:u}),t.$set(z),(!Q||k&128)&&_!==(_=u[7].id+"")&&oe(s,_),(!Q||k&128)&&T!==(T=u[7].name+"")&&oe(M,T)},i(u){Q||(p(t.$$.fragment,u),p(h.$$.fragment,u),p(H.$$.fragment,u),Q=!0)},o(u){d(t.$$.fragment,u),d(h.$$.fragment,u),d(H.$$.fragment,u),Q=!1},d(u){u&&($(n),$(e),$(j),$(m),$(q),$(y)),E(t,u),E(h),E(H),Z=!1,$e(se)}}}function Te(a){let t,n;return t=new X({props:{$$slots:{default:[Ue]},$$scope:{ctx:a}}}),{c(){w(t.$$.fragment)},l(e){C(t.$$.fragment,e)},m(e,r){P(t,e,r),n=!0},p(e,r){const l={};r&256&&(l.$$scope={dirty:r,ctx:e}),t.$set(l)},i(e){n||(p(t.$$.fragment,e),n=!0)},o(e){d(t.$$.fragment,e),n=!1},d(e){E(t,e)}}}function Ie(a){let t,n;return t=new X({props:{$$slots:{default:[Be]},$$scope:{ctx:a}}}),{c(){w(t.$$.fragment)},l(e){C(t.$$.fragment,e)},m(e,r){P(t,e,r),n=!0},p(e,r){const l={};r&256&&(l.$$scope={dirty:r,ctx:e}),t.$set(l)},i(e){n||(p(t.$$.fragment,e),n=!0)},o(e){d(t.$$.fragment,e),n=!1},d(e){E(t,e)}}}function De(a){let t,n,e;return t=new K({props:{icon:ve}}),{c(){w(t.$$.fragment),n=V(" Active Problems")},l(r){C(t.$$.fragment,r),n=F(r," Active Problems")},m(r,l){P(t,r,l),b(r,n,l),e=!0},p:ne,i(r){e||(p(t.$$.fragment,r),e=!0)},o(r){d(t.$$.fragment,r),e=!1},d(r){r&&$(n),E(t,r)}}}function Ue(a){let t,n,e,r,l,f,g="See all past problems",_;return t=new W({props:{$$slots:{default:[De]},$$scope:{ctx:a}}}),r=new Pe({props:{pages:[a[0]]}}),r.$on("clickProblem",a[3]),{c(){w(t.$$.fragment),n=I(),e=N("div"),w(r.$$.fragment),l=I(),f=N("a"),f.textContent=g,this.h()},l(s){C(t.$$.fragment,s),n=D(s),e=A(s,"DIV",{class:!0});var v=O(e);C(r.$$.fragment,v),v.forEach($),l=D(s),f=A(s,"A",{class:!0,href:!0,"data-svelte-h":!0}),R(f)!=="svelte-1a69j02"&&(f.textContent=g),this.h()},h(){B(e,"class","h-[400px] overflow-y-scroll border border-gray-300 p-4 rounded-md"),B(f,"class","block text-right mt-2 text-blue-600"),B(f,"href","/problems")},m(s,v){P(t,s,v),b(s,n,v),b(s,e,v),P(r,e,null),b(s,l,v),b(s,f,v),_=!0},p(s,v){const i={};v&256&&(i.$$scope={dirty:v,ctx:s}),t.$set(i)},i(s){_||(p(t.$$.fragment,s),p(r.$$.fragment,s),_=!0)},o(s){d(t.$$.fragment,s),d(r.$$.fragment,s),_=!1},d(s){s&&($(n),$(e),$(l),$(f)),E(t,s),E(r)}}}function ye(a){let t,n,e;return t=new K({props:{icon:he}}),{c(){w(t.$$.fragment),n=V(" Alert")},l(r){C(t.$$.fragment,r),n=F(r," Alert")},m(r,l){P(t,r,l),b(r,n,l),e=!0},p:ne,i(r){e||(p(t.$$.fragment,r),e=!0)},o(r){d(t.$$.fragment,r),e=!1},d(r){r&&$(n),E(t,r)}}}function Be(a){let t,n,e;return t=new W({props:{$$slots:{default:[ye]},$$scope:{ctx:a}}}),{c(){w(t.$$.fragment),n=V(`
          Please change your password before use!`)},l(r){C(t.$$.fragment,r),n=F(r,`
          Please change your password before use!`)},m(r,l){P(t,r,l),b(r,n,l),e=!0},p(r,l){const f={};l&256&&(f.$$scope={dirty:l,ctx:r}),t.$set(f)},i(r){e||(p(t.$$.fragment,r),e=!0)},o(r){d(t.$$.fragment,r),e=!1},d(r){r&&$(n),E(t,r)}}}function ie(a){let t,n;return t=new X({props:{$$slots:{default:[Se]},$$scope:{ctx:a}}}),{c(){w(t.$$.fragment)},l(e){C(t.$$.fragment,e)},m(e,r){P(t,e,r),n=!0},i(e){n||(p(t.$$.fragment,e),n=!0)},o(e){d(t.$$.fragment,e),n=!1},d(e){E(t,e)}}}function Oe(a){let t;return{c(){t=V("Admin Panel")},l(n){t=F(n,"Admin Panel")},m(n,e){b(n,t,e)},d(n){n&&$(t)}}}function Se(a){let t,n,e,r,l,f="Manage problems",g,_,s,v="Manage users",i,o,c,U="Manage submits",T,M,j;return t=new W({props:{$$slots:{default:[Oe]},$$scope:{ctx:a}}}),{c(){w(t.$$.fragment),n=I(),e=N("div"),r=N("span"),l=N("button"),l.textContent=f,g=I(),_=N("span"),s=N("button"),s.textContent=v,i=I(),o=N("span"),c=N("button"),c.textContent=U,this.h()},l(m){C(t.$$.fragment,m),n=D(m),e=A(m,"DIV",{class:!0});var h=O(e);r=A(h,"SPAN",{});var S=O(r);l=A(S,"BUTTON",{type:!0,"data-svelte-h":!0}),R(l)!=="svelte-137hlyx"&&(l.textContent=f),S.forEach($),g=D(h),_=A(h,"SPAN",{});var q=O(_);s=A(q,"BUTTON",{type:!0,"data-svelte-h":!0}),R(s)!=="svelte-wvvrcb"&&(s.textContent=v),q.forEach($),i=D(h),o=A(h,"SPAN",{});var y=O(o);c=A(y,"BUTTON",{type:!0,"data-svelte-h":!0}),R(c)!=="svelte-1yvwu19"&&(c.textContent=U),y.forEach($),h.forEach($),this.h()},h(){B(l,"type","button"),B(s,"type","button"),B(c,"type","button"),B(e,"class","flex flex-row flex-wrap gap-2")},m(m,h){P(t,m,h),b(m,n,h),b(m,e,h),x(e,r),x(r,l),x(e,g),x(e,_),x(_,s),x(e,i),x(e,o),x(o,c),T=!0,M||(j=[J(l,"click",a[4]),J(s,"click",a[5]),J(c,"click",a[6])],M=!0)},p(m,h){const S={};h&256&&(S.$$scope={dirty:h,ctx:m}),t.$set(S)},i(m){T||(p(t.$$.fragment,m),T=!0)},o(m){d(t.$$.fragment,m),T=!1},d(m){m&&($(n),$(e)),E(t,m),M=!1,$e(j)}}}function Ve(a){let t,n,e,r,l,f,g;t=new X({props:{class:"text-sm",$$slots:{default:[Ae]},$$scope:{ctx:a}}});const _=[Ie,Te],s=[];function v(o,c){return o[7].shouldChangePassword?0:1}e=v(a),r=s[e]=_[e](a);let i=a[7].role==="ADMIN"&&ie(a);return{c(){w(t.$$.fragment),n=I(),r.c(),l=I(),i&&i.c(),f=L()},l(o){C(t.$$.fragment,o),n=D(o),r.l(o),l=D(o),i&&i.l(o),f=L()},m(o,c){P(t,o,c),b(o,n,c),s[e].m(o,c),b(o,l,c),i&&i.m(o,c),b(o,f,c),g=!0},p(o,c){const U={};c&384&&(U.$$scope={dirty:c,ctx:o}),t.$set(U);let T=e;e=v(o),e===T?s[e].p(o,c):(re(),d(s[T],1,1,()=>{s[T]=null}),le(),r=s[e],r?r.p(o,c):(r=s[e]=_[e](o),r.c()),p(r,1),r.m(l.parentNode,l)),o[7].role==="ADMIN"?i?c&128&&p(i,1):(i=ie(o),i.c(),p(i,1),i.m(f.parentNode,f)):i&&(re(),d(i,1,1,()=>{i=null}),le())},i(o){g||(p(t.$$.fragment,o),p(r),p(i),g=!0)},o(o){d(t.$$.fragment,o),d(r),d(i),g=!1},d(o){o&&($(n),$(l),$(f)),E(t,o),s[e].d(o),i&&i.d(o)}}}function Fe(a){let t,n,e=a[7]!==null&&fe(a);return{c(){e&&e.c(),t=L()},l(r){e&&e.l(r),t=L()},m(r,l){e&&e.m(r,l),b(r,t,l),n=!0},p(r,l){r[7]!==null?e?(e.p(r,l),l&128&&p(e,1)):(e=fe(r),e.c(),p(e,1),e.m(t.parentNode,t)):e&&(re(),d(e,1,1,()=>{e=null}),le())},i(r){n||(p(e),n=!0)},o(r){d(e),n=!1},d(r){r&&$(t),e&&e.d(r)}}}function Me(a){let t,n,e,r;return t=new _e({props:{force:!0}}),e=new pe({props:{$$slots:{default:[Fe,({user:l})=>({7:l}),({user:l})=>l?128:0]},$$scope:{ctx:a}}}),{c(){w(t.$$.fragment),n=I(),w(e.$$.fragment)},l(l){C(t.$$.fragment,l),n=D(l),C(e.$$.fragment,l)},m(l,f){P(t,l,f),b(l,n,f),P(e,l,f),r=!0},p(l,[f]){const g={};f&384&&(g.$$scope={dirty:f,ctx:l}),e.$set(g)},i(l){r||(p(t.$$.fragment,l),p(e.$$.fragment,l),r=!0)},o(l){d(t.$$.fragment,l),d(e.$$.fragment,l),r=!1},d(l){l&&$(n),E(t,l),E(e,l)}}}function je(a){const t=we.functional.problem.list(Ce(),{}).then(_=>_.problems);function n(){ke.set(null),xe()}return[t,n,()=>{G("/my/edit")},_=>G(`/problems/${_.detail.id}`),()=>G("/manage/problems"),()=>G("/manage/users"),()=>G("/manage/submits")]}class tt extends ce{constructor(t){super(),me(this,t,je,Me,ue,{})}}export{tt as component};
