import{s as R,G as W,f as h,g as v,h as O,d as p,j as S,i as g,u,a as D,c as I,S as X,T as Y,p as B,H as N,w as P,D as Z,Q as H}from"../chunks/scheduler.cf24fc46.js";import{h as ee,u as te}from"../chunks/await_block.a4a2b8d2.js";import{S as ne,i as ae,b as k,d as w,m as C,a as _,t as $,e as q,f as L}from"../chunks/index.1a695a89.js";import{p as oe}from"../chunks/stores.b7a7dec8.js";import{g as z}from"../chunks/api.5d704809.js";import{B as A}from"../chunks/Box.dae89304.js";import{a as F}from"../chunks/module.169a8bc7.js";/* empty css                         */import{Q as le}from"../chunks/CodeEditor.6af6e19d.js";import{g as se}from"../chunks/navigation.d80844bb.js";import{U as re}from"../chunks/UserOnly.b97af075.js";import{L as ie}from"../chunks/LanguageSelector.23505d9d.js";function ue(l){return{c:u,l:u,m:u,p:u,i:u,o:u,d:u}}function ce(l){let t,s,n,a;return t=new A({props:{class:"laptop:flex-[8]",$$slots:{default:[fe]},$$scope:{ctx:l}}}),n=new A({props:{class:"laptop:flex-[6]",$$slots:{default:[pe]},$$scope:{ctx:l}}}),{c(){k(t.$$.fragment),s=D(),k(n.$$.fragment)},l(e){w(t.$$.fragment,e),s=I(e),w(n.$$.fragment,e)},m(e,i){C(t,e,i),g(e,s,i),C(n,e,i),a=!0},p(e,i){const m={};i&256&&(m.$$scope={dirty:i,ctx:e}),t.$set(m);const c={};i&259&&(c.$$scope={dirty:i,ctx:e}),n.$set(c)},i(e){a||(_(t.$$.fragment,e),_(n.$$.fragment,e),a=!0)},o(e){$(t.$$.fragment,e),$(n.$$.fragment,e),a=!1},d(e){e&&p(s),q(t,e),q(n,e)}}}function fe(l){let t,s,n=l[3].description+"";return{c(){t=h("div"),s=new X(!1),this.h()},l(a){t=v(a,"DIV",{class:!0});var e=O(t);s=Y(e,!1),e.forEach(p),this.h()},h(){s.a=null,S(t,"class","markdown")},m(a,e){g(a,t,e),s.m(n,t)},p:u,d(a){a&&p(t)}}}function pe(l){let t,s="Submit",n,a,e,i="Language",m,c,b,d,r,y,E,x,T,U;function J(o){l[4](o)}let Q={languages:Object.keys(l[3].templates)};l[0]!==void 0&&(Q.language=l[0]),c=new ie({props:Q}),B.push(()=>L(c,"language",J));function K(o){l[5](o)}function M(o){l[6](o)}let V={};return l[1][l[0]]!==void 0&&(V.code=l[1][l[0]]),l[0]!==void 0&&(V.language=l[0]),r=new le({props:V}),B.push(()=>L(r,"code",K)),B.push(()=>L(r,"language",M)),{c(){t=h("button"),t.textContent=s,n=D(),a=h("div"),e=h("div"),e.textContent=i,m=D(),k(c.$$.fragment),d=D(),k(r.$$.fragment),this.h()},l(o){t=v(o,"BUTTON",{"data-svelte-h":!0}),N(t)!=="svelte-1mqqkko"&&(t.textContent=s),n=I(o),a=v(o,"DIV",{class:!0});var f=O(a);e=v(f,"DIV",{class:!0,"data-svelte-h":!0}),N(e)!=="svelte-dbq2nd"&&(e.textContent=i),m=I(f),w(c.$$.fragment,f),f.forEach(p),d=I(o),w(r.$$.fragment,o),this.h()},h(){S(e,"class","label"),S(a,"class","mt-4 flex flex-row gap-x-2 items-center justify-end")},m(o,f){g(o,t,f),g(o,n,f),g(o,a,f),P(a,e),P(a,m),C(c,a,null),g(o,d,f),C(r,o,f),x=!0,T||(U=Z(t,"click",l[2]),T=!0)},p(o,f){const G={};!b&&f&1&&(b=!0,G.language=o[0],H(()=>b=!1)),c.$set(G);const j={};!y&&f&3&&(y=!0,j.code=o[1][o[0]],H(()=>y=!1)),!E&&f&1&&(E=!0,j.language=o[0],H(()=>E=!1)),r.$set(j)},i(o){x||(_(c.$$.fragment,o),_(r.$$.fragment,o),x=!0)},o(o){$(c.$$.fragment,o),$(r.$$.fragment,o),x=!1},d(o){o&&(p(t),p(n),p(a),p(d)),q(c),q(r,o),T=!1,U()}}}function me(l){return{c:u,l:u,m:u,p:u,i:u,o:u,d:u}}function ge(l){let t,s,n={ctx:l,current:null,token:null,hasCatch:!1,pending:me,then:ce,catch:ue,value:3,blocks:[,,,]};return ee(l[3],n),{c(){t=h("div"),n.block.c(),this.h()},l(a){t=v(a,"DIV",{class:!0});var e=O(t);n.block.l(e),e.forEach(p),this.h()},h(){S(t,"class","flex flex-col gap-4 laptop:flex-row laptop:w-[calc(100vw-64px-128px)]")},m(a,e){g(a,t,e),n.block.m(t,n.anchor=null),n.mount=()=>t,n.anchor=null,s=!0},p(a,e){l=a,te(n,l,e)},i(a){s||(_(n.block),s=!0)},o(a){for(let e=0;e<3;e+=1){const i=n.blocks[e];$(i)}s=!1},d(a){a&&p(t),n.block.d(),n.token=null,n=null}}}function de(l){let t,s;return t=new re({props:{$$slots:{default:[ge]},$$scope:{ctx:l}}}),{c(){k(t.$$.fragment)},l(n){w(t.$$.fragment,n)},m(n,a){C(t,n,a),s=!0},p(n,[a]){const e={};a&259&&(e.$$scope={dirty:a,ctx:n}),t.$set(e)},i(n){s||(_(t.$$.fragment,n),s=!0)},o(n){$(t.$$.fragment,n),s=!1},d(n){q(t,n)}}}function _e(l,t,s){const n=W(oe).params.id,a=F.functional.problem.get(z(),n).then(r=>r.problem);let e="C",i={};a.then(r=>{s(1,i=r.templates)});async function m(){await F.functional.submit.create(z(),{language:e,code:i[e]??"",problemId:n}),se("/submits")}function c(r){e=r,s(0,e)}function b(r){l.$$.not_equal(i[e],r)&&(i[e]=r,s(1,i))}function d(r){e=r,s(0,e)}return[e,i,m,a,c,b,d]}class ye extends ne{constructor(t){super(),ae(this,t,_e,de,R,{})}}export{ye as component};
